-- üîë SCRIPTKEY check (2-hour rotation)
getgenv().SCRIPTKEY = getgenv().SCRIPTKEY or "ZORI-0"
local hour = os.date("!*t").hour
local validKey = "ZORI-" .. math.floor(hour / 2)

if getgenv().SCRIPTKEY ~= validKey then
    game.Players.LocalPlayer:Kick("‚ùå Invalid key. Check Discord for current key.")
    return
end

-- üß† Game Place ID Logic
local placeId = game.PlaceId

local scriptMap = {
    [3082002798] = "https://raw.githubusercontent.com/zerolamar/Obfuscate-Scripts/main/T-Titans%20Battlegrounds.lua", -- T-Titans
}

-- üéØ Attempt to fetch and execute the remote script
local scriptURL = scriptMap[placeId]

if scriptURL then
    local success, result = pcall(function()
        return game:HttpGet(scriptURL)
    end)

    if success and result then
        local func, loadErr = loadstring(result)
        if func then
            local execSuccess, execErr = pcall(func)
            if not execSuccess then
                warn("‚ùå Script Runtime Error: ", execErr)
                game.Players.LocalPlayer:Kick("‚ùå Error while running script: " .. tostring(execErr))
            end
        else
            warn("‚ùå loadstring error: ", loadErr)
            game.Players.LocalPlayer:Kick("‚ùå Script loading failed. Check GitHub formatting.")
        end
    else
        warn("‚ùå HTTP error: ", result)
        game.Players.LocalPlayer:Kick("‚ùå Failed to fetch remote script. Check GitHub URL.")
    end
else
    game.Players.LocalPlayer:Kick("‚ö†Ô∏è Unsupported game. Script will not run here.")
end
